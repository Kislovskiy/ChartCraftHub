<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="3. Creating Portable Tools: Packaging Your Figure Creation Toolbox" href="section_3.html" /><link rel="prev" title="1. Exploring Matplotlib Internals: Figures, Axes, and More" href="section_1.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>2. Efficient Figure Creation Tips: Abstracting Common Steps - ChartCraftHub 0.1.5 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">ChartCraftHub 0.1.5 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="section_1.html">1. Exploring Matplotlib Internals: Figures, Axes, and More</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">2. Efficient Figure Creation Tips: Abstracting Common Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="section_3.html">3. Creating Portable Tools: Packaging Your Figure Creation Toolbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources and Tools We Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminology.html">Terminology</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="efficient-figure-creation-tips-abstracting-common-steps">
<h1>2. Efficient Figure Creation Tips: Abstracting Common Steps<a class="headerlink" href="#efficient-figure-creation-tips-abstracting-common-steps" title="Link to this heading">#</a></h1>
<section id="in-this-section">
<span id="section-2"></span><h2>In this section<a class="headerlink" href="#in-this-section" title="Link to this heading">#</a></h2>
<p>We will encapsulate common plotting patterns into classes and functions.
Encapsulating logic within functions will allow us to create complex figures with less code and make experiments more enjoyable and less error-prone.</p>
</section>
<section id="creating-abstractions">
<h2>Creating abstractions<a class="headerlink" href="#creating-abstractions" title="Link to this heading">#</a></h2>
<p>When creating a new figure, you usually start with a new script.</p>
<p>There is nothing wrong with starting with a new script whenever you want to create a new figure.
However, as time passes, you will notice you are repeating yourself.
At the same time, maintaining your code is getting harder and harder.
You’ll discover something cool and new and would also like the older code to benefit from it.</p>
<p>The solution for this is to review your code refactor often.
Let’s take a practical look at this.</p>
<p>First, we will see how to use the custom-written code to generate complex images.
If you are convinced that it’s worth it, there is a second notebook that guides you through the details.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/Kislovskiy/ChartCraftHub/blob/trunk/src/chartcrafthub/chapter_2_0.ipynb">https://github.com/Kislovskiy/ChartCraftHub/blob/trunk/src/chartcrafthub/chapter_2_0.ipynb</a></p></li>
<li><p><a class="reference external" href="https://github.com/Kislovskiy/ChartCraftHub/blob/trunk/src/chartcrafthub/chapter_2_1.ipynb">https://github.com/Kislovskiy/ChartCraftHub/blob/trunk/src/chartcrafthub/chapter_2_1.ipynb</a></p></li>
</ul>
</section>
<section id="list-of-exercises">
<h2>List of Exercises<a class="headerlink" href="#list-of-exercises" title="Link to this heading">#</a></h2>
<section id="exercise-1">
<h3>Exercise 1<a class="headerlink" href="#exercise-1" title="Link to this heading">#</a></h3>
<p><strong>Description:</strong></p>
<p>Implement a Vector class that represents a vector in 2D space. Use a plot method similar to the Point class.</p>
<ul class="simple">
<li><p>A class should have a constructor <cite>__init__(self, …)</cite>.</p></li>
<li><p>A class should have a method <cite>__str__(self)</cite> that will return a string representation of the object.</p></li>
<li><p>A class should have a method <cite>plot(self, ax, kwargs)</cite> that will plot the vector on the axes.</p></li>
</ul>
</section>
<section id="exercise-2">
<h3>Exercise 2<a class="headerlink" href="#exercise-2" title="Link to this heading">#</a></h3>
<p><strong>Description</strong></p>
<p>Using the concepts that you’ve acquired, create a “common chart” figure like the one below.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="images/dino_ex_2_2.png"><img alt="common_chart_in_xkcd_style" src="images/dino_ex_2_2.png" style="width: 600px;" /></a>
</figure>
</section>
<section id="exercise-3">
<h3>Exercise 3<a class="headerlink" href="#exercise-3" title="Link to this heading">#</a></h3>
<p><strong>Description</strong></p>
<p>Follow the instructions in the notebook <cite>chapter_2_1.ipynb</cite> to create a figure like the one below.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="images/ex_2_3.png"><img alt="sine_waves_with_colors" src="images/ex_2_3.png" style="width: 600px;" /></a>
</figure>
</section>
<section id="exercise-4">
<h3>Exercise 4<a class="headerlink" href="#exercise-4" title="Link to this heading">#</a></h3>
<p><strong>Description</strong></p>
<p>You will be able to create a figure like the one below with ease.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="images/ex_2_4.png"><img alt="a_grid_with_lines" src="images/ex_2_4.png" style="width: 600px;" /></a>
</figure>
</section>
<section id="exercise-5">
<h3>Exercise 5*<a class="headerlink" href="#exercise-5" title="Link to this heading">#</a></h3>
<p><strong>Description</strong></p>
<p>The concepts similar to those we’ve learned about 2D graphics can be applied to 3D.
The star in the exercise means that it’s a bit more challenging.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="images/ex_2_5.png"><img alt="common_chart_in_xkcd_style" src="images/ex_2_5.png" style="width: 600px;" /></a>
</figure>
</section>
<section id="exercise-6">
<h3>Exercise 6*<a class="headerlink" href="#exercise-6" title="Link to this heading">#</a></h3>
<p><strong>Description</strong></p>
<p>We will be able to generate a dyno even in 3D.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="images/ex_2_6.png"><img alt="dyno_in_3d" src="images/ex_2_6.png" style="width: 600px;" /></a>
</figure>
</section>
<section id="exercise-7">
<h3>Exercise 7*<a class="headerlink" href="#exercise-7" title="Link to this heading">#</a></h3>
<p><strong>Description</strong></p>
<p>It is always a good reminder to use a proper DPI and dimensions for the figure.
Create a figure to demonstrate the difference between the default and custom DPI.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="images/ex_2_7.png"><img alt="common_chart_in_xkcd_style" src="images/ex_2_7.png" style="width: 600px;" /></a>
</figure>
</section>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h2>
<p>We’ve created a simple example of Plot abstraction in Seaborn, a library built on top of matplotlib.
<a class="reference external" href="https://seaborn.pydata.org/generated/seaborn.objects.Plot.add.html">https://seaborn.pydata.org/generated/seaborn.objects.Plot.add.html</a></p>
<p>When you watch the examples in Seaborn documentation, it’s quite impressive what you can build with matplotlib <a class="reference external" href="https://seaborn.pydata.org/examples/index.html">source</a>.</p>
<p>The goal of this section was to demonstrate Artem’s way of navigating complex codebases.</p>
<p>We’ve learned:
* how to explore the <cite>Figure</cite> and <cite>Axes</cite> objects.</p>
<ul class="simple">
<li><p>how to create a simple abstraction for plotting common patterns.</p></li>
<li><p>how to leverage the advantages of structuring code in .py files and functions for seamless reusability across projects.</p></li>
</ul>
<p>Contrast the original <a class="reference external" href="https://github.com/rougier/scientific-visualization-book/blob/master/code/anatomy/anatomy.py">anatomy.py</a> implementation with the refactored structure exemplified in <a class="reference external" href="https://github.com/Kislovskiy/ChartCraftHub/blob/trunk/src/chartcrafthub/anatomy_of_figure.py">anatomy_of_figure.py</a>, highlighting the benefits of functional organization for clarity and maintainability.</p>
<p>In the forthcoming section, delve into the structuring of data visualization projects for portable functionality.</p>
<p>Use this template as a foundation for crafting new scripts: <cite>template.py</cite>.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="section_3.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">3. Creating Portable Tools: Packaging Your Figure Creation Toolbox</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="section_1.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">1. Exploring Matplotlib Internals: Figures, Axes, and More</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Artem Kislovskiy, Teresa Kubacka
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">2. Efficient Figure Creation Tips: Abstracting Common Steps</a><ul>
<li><a class="reference internal" href="#in-this-section">In this section</a></li>
<li><a class="reference internal" href="#creating-abstractions">Creating abstractions</a></li>
<li><a class="reference internal" href="#list-of-exercises">List of Exercises</a><ul>
<li><a class="reference internal" href="#exercise-1">Exercise 1</a></li>
<li><a class="reference internal" href="#exercise-2">Exercise 2</a></li>
<li><a class="reference internal" href="#exercise-3">Exercise 3</a></li>
<li><a class="reference internal" href="#exercise-4">Exercise 4</a></li>
<li><a class="reference internal" href="#exercise-5">Exercise 5*</a></li>
<li><a class="reference internal" href="#exercise-6">Exercise 6*</a></li>
<li><a class="reference internal" href="#exercise-7">Exercise 7*</a></li>
</ul>
</li>
<li><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=59fadc99"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>